"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/state";
exports.ids = ["pages/api/state"];
exports.modules = {

/***/ "dotenv/config":
/*!********************************!*\
  !*** external "dotenv/config" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("dotenv/config");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "jose":
/*!***********************!*\
  !*** external "jose" ***!
  \***********************/
/***/ ((module) => {

module.exports = import("jose");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstate&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fstate%2Findex.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstate&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fstate%2Findex.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_state_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/state/index.js */ \"(api)/./pages/api/state/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_state_index_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_state_index_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_state_index_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_state_index_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/state\",\n        pathname: \"/api/state\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_state_index_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnN0YXRlJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZzdGF0ZSUyRmluZGV4LmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3VEO0FBQ3ZEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxzREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsc0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2t0YS1haS1zaW11bGF0b3IvP2VmNTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9zdGF0ZS9pbmRleC5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3N0YXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc3RhdGVcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstate&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fstate%2Findex.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/oauth/authorize.js":
/*!**************************************!*\
  !*** ./pages/api/oauth/authorize.js ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler),\n/* harmony export */   oauthStateStore: () => (/* binding */ oauthStateStore)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jose */ \"jose\");\n/* harmony import */ var _src_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../src/config */ \"(api)/./src/config.js\");\n/* harmony import */ var _src_state_sessionStore_serverless__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../src/state/sessionStore-serverless */ \"(api)/./src/state/sessionStore-serverless.js\");\n/* harmony import */ var _src_services_logger_serverless__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../src/services/logger-serverless */ \"(api)/./src/services/logger-serverless.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([jose__WEBPACK_IMPORTED_MODULE_1__]);\njose__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n// In-memory store for OAuth configurations by state (for callback retrieval)\nconst oauthStateStore = new Map();\n/**\n * Next.js API Route - OAuth Authorization\n * POST /api/oauth/authorize\n */ async function handler(req, res) {\n    // Enable CORS\n    res.setHeader(\"Access-Control-Allow-Credentials\", \"true\");\n    res.setHeader(\"Access-Control-Allow-Origin\", req.headers.origin || \"*\");\n    res.setHeader(\"Access-Control-Allow-Methods\", \"GET,OPTIONS,PATCH,DELETE,POST,PUT\");\n    res.setHeader(\"Access-Control-Allow-Headers\", \"X-CSRF-Token,X-Requested-With,Accept,Accept-Version,Content-Length,Content-MD5,Content-Type,Date,X-Api-Version\");\n    if (req.method === \"OPTIONS\") {\n        res.status(200).end();\n        return;\n    }\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        const cfg = req.body;\n        const err = (0,_src_config__WEBPACK_IMPORTED_MODULE_2__.validateBasicOAuthConfig)(cfg);\n        if (err) return res.status(400).json({\n            error: err\n        });\n        // Start a new session log\n        const sessionType = cfg.sessionType || \"auth-code-flow\";\n        const userName = cfg.userName || null;\n        _src_services_logger_serverless__WEBPACK_IMPORTED_MODULE_4__.startSession(sessionType, userName);\n        // Use step1AuthServerId if provided, otherwise fall back to authorizationServerId\n        const step1AuthServerId = cfg.step1AuthServerId !== undefined ? cfg.step1AuthServerId : cfg.authorizationServerId;\n        _src_services_logger_serverless__WEBPACK_IMPORTED_MODULE_4__.log(1, \"OAuth Authorize initiated\", {\n            oktaDomain: cfg.oktaDomain,\n            clientId: cfg.clientId,\n            redirectUri: cfg.redirectUri,\n            authorizationServerId: step1AuthServerId || \"(org)\",\n            clientAuthMethod: cfg.clientAuthMethod || \"client_secret\",\n            responseType: cfg.responseType || \"code\"\n        });\n        // Generate or use custom state/nonce\n        const oauthState = cfg.customState || crypto__WEBPACK_IMPORTED_MODULE_0___default().randomBytes(16).toString(\"hex\");\n        const oauthNonce = cfg.customNonce || crypto__WEBPACK_IMPORTED_MODULE_0___default().randomBytes(16).toString(\"hex\");\n        const codeVerifier = crypto__WEBPACK_IMPORTED_MODULE_0___default().randomBytes(32).toString(\"base64url\");\n        const codeChallenge = Buffer.from(crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash(\"sha256\").update(codeVerifier).digest()).toString(\"base64url\");\n        // Store OAuth configuration by state for callback to retrieve\n        oauthStateStore.set(oauthState, {\n            oktaDomain: cfg.oktaDomain,\n            clientId: cfg.clientId,\n            clientSecret: cfg.clientSecret,\n            redirectUri: cfg.redirectUri,\n            authorizationServerId: step1AuthServerId,\n            codeVerifier,\n            nonce: oauthNonce,\n            createdAt: Date.now()\n        });\n        // Clean up old entries (older than 15 minutes)\n        const now = Date.now();\n        for (const [state, data] of oauthStateStore.entries()){\n            if (now - data.createdAt > 15 * 60 * 1000) {\n                oauthStateStore.delete(state);\n            }\n        }\n        // Store in serverless session\n        _src_state_sessionStore_serverless__WEBPACK_IMPORTED_MODULE_3__.setState({\n            oauthState,\n            oauthNonce,\n            codeVerifier,\n            cfg\n        });\n        _src_services_logger_serverless__WEBPACK_IMPORTED_MODULE_4__.log(2, \"Generated OAuth parameters\", {\n            state: oauthState,\n            nonce: oauthNonce,\n            codeChallenge,\n            pkce: cfg.usePkce ? \"enabled\" : \"disabled\"\n        });\n        const oauthPath = getOAuthPath(step1AuthServerId);\n        // Ensure oktaDomain is clean (remove protocol and trailing slash)\n        let cleanDomain = cfg.oktaDomain.replace(/^https?:\\/\\//, \"\") // Remove https:// or http://\n        .replace(/\\/$/, \"\"); // Remove trailing slash\n        const params = new URLSearchParams({\n            client_id: cfg.clientId,\n            response_type: cfg.responseType || \"code\",\n            scope: cfg.scope || \"openid profile email\",\n            redirect_uri: cfg.redirectUri,\n            state: oauthState,\n            nonce: oauthNonce,\n            ...cfg.usePkce && {\n                code_challenge: codeChallenge,\n                code_challenge_method: \"S256\"\n            },\n            ...cfg.loginHint && {\n                login_hint: cfg.loginHint\n            },\n            ...cfg.idpHint && {\n                idp: cfg.idpHint\n            },\n            ...cfg.prompt && {\n                prompt: cfg.prompt\n            },\n            ...cfg.maxAge && {\n                max_age: cfg.maxAge\n            }\n        });\n        const authUrl = `https://${cleanDomain}/${oauthPath}/authorize?${params.toString()}`;\n        _src_services_logger_serverless__WEBPACK_IMPORTED_MODULE_4__.log(3, \"Authorization URL generated\", {\n            url: authUrl.replace(/client_id=[^&]+/, \"client_id=***\")\n        });\n        res.json({\n            authUrl,\n            state: oauthState,\n            nonce: oauthNonce,\n            codeVerifier: cfg.usePkce ? codeVerifier : undefined,\n            sessionId: _src_services_logger_serverless__WEBPACK_IMPORTED_MODULE_4__.getSessionMeta().sessionId\n        });\n    } catch (error) {\n        _src_services_logger_serverless__WEBPACK_IMPORTED_MODULE_4__.log(0, \"Error in OAuth authorize\", {\n            error: error.message\n        });\n        res.status(500).json({\n            error: error.message\n        });\n    }\n}\n/**\n * Get the OAuth path prefix based on authorization server ID\n */ function getOAuthPath(authorizationServerId) {\n    if (!authorizationServerId) {\n        return \"oauth2/v1\";\n    }\n    return `oauth2/${authorizationServerId}/v1`;\n}\n// Export for use in other endpoints\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxRQUFRaEIsT0FBTyxDQUFDLG1CQUFtQjtRQUMxQztRQUVBckQsSUFBSU8sSUFBSSxDQUFDO1lBQ1A4RDtZQUNBMUIsT0FBT25CO1lBQ1BlLE9BQU9YO1lBQ1BFLGNBQWNyQixJQUFJd0MsT0FBTyxHQUFHbkIsZUFBZWQ7WUFDM0N1RCxXQUFXNUUsMkVBQXFCLEdBQUc0RSxTQUFTO1FBQzlDO0lBQ0YsRUFBRSxPQUFPL0QsT0FBTztRQUNkYixnRUFBVSxDQUFDLEdBQUcsNEJBQTRCO1lBQUVhLE9BQU9BLE1BQU1pRSxPQUFPO1FBQUM7UUFDakV6RSxJQUFJSyxNQUFNLENBQUMsS0FBS0UsSUFBSSxDQUFDO1lBQUVDLE9BQU9BLE1BQU1pRSxPQUFPO1FBQUM7SUFDOUM7QUFDRjtBQUVBOztDQUVDLEdBQ0QsU0FBU3RCLGFBQWFsQyxxQkFBcUI7SUFDekMsSUFBSSxDQUFDQSx1QkFBdUI7UUFDMUIsT0FBTztJQUNUO0lBQ0EsT0FBTyxDQUFDLE9BQU8sRUFBRUEsc0JBQXNCLEdBQUcsQ0FBQztBQUM3QztBQUVBLG9DQUFvQztBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2t0YS1haS1zaW11bGF0b3IvLi9wYWdlcy9hcGkvb2F1dGgvYXV0aG9yaXplLmpzPzM2MzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xuaW1wb3J0IHsgZGVjb2RlSnd0IH0gZnJvbSAnam9zZSc7XG5pbXBvcnQgeyB2YWxpZGF0ZUJhc2ljT0F1dGhDb25maWcgfSBmcm9tICcuLi8uLi8uLi9zcmMvY29uZmlnJztcbmltcG9ydCAqIGFzIHN0b3JlIGZyb20gJy4uLy4uLy4uL3NyYy9zdGF0ZS9zZXNzaW9uU3RvcmUtc2VydmVybGVzcyc7XG5pbXBvcnQgKiBhcyBsb2dnZXIgZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzL2xvZ2dlci1zZXJ2ZXJsZXNzJztcblxuLy8gSW4tbWVtb3J5IHN0b3JlIGZvciBPQXV0aCBjb25maWd1cmF0aW9ucyBieSBzdGF0ZSAoZm9yIGNhbGxiYWNrIHJldHJpZXZhbClcbmNvbnN0IG9hdXRoU3RhdGVTdG9yZSA9IG5ldyBNYXAoKTtcblxuLyoqXG4gKiBOZXh0LmpzIEFQSSBSb3V0ZSAtIE9BdXRoIEF1dGhvcml6YXRpb25cbiAqIFBPU1QgL2FwaS9vYXV0aC9hdXRob3JpemVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICAvLyBFbmFibGUgQ09SU1xuICByZXMuc2V0SGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJyk7XG4gIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsIHJlcS5oZWFkZXJzLm9yaWdpbiB8fCAnKicpO1xuICByZXMuc2V0SGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCxPUFRJT05TLFBBVENILERFTEVURSxQT1NULFBVVCcpO1xuICByZXMuc2V0SGVhZGVyKFxuICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJyxcbiAgICAnWC1DU1JGLVRva2VuLFgtUmVxdWVzdGVkLVdpdGgsQWNjZXB0LEFjY2VwdC1WZXJzaW9uLENvbnRlbnQtTGVuZ3RoLENvbnRlbnQtTUQ1LENvbnRlbnQtVHlwZSxEYXRlLFgtQXBpLVZlcnNpb24nXG4gICk7XG5cbiAgaWYgKHJlcS5tZXRob2QgPT09ICdPUFRJT05TJykge1xuICAgIHJlcy5zdGF0dXMoMjAwKS5lbmQoKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBjZmcgPSByZXEuYm9keTtcbiAgICBjb25zdCBlcnIgPSB2YWxpZGF0ZUJhc2ljT0F1dGhDb25maWcoY2ZnKTtcbiAgICBpZiAoZXJyKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogZXJyIH0pO1xuXG4gICAgLy8gU3RhcnQgYSBuZXcgc2Vzc2lvbiBsb2dcbiAgICBjb25zdCBzZXNzaW9uVHlwZSA9IGNmZy5zZXNzaW9uVHlwZSB8fCAnYXV0aC1jb2RlLWZsb3cnO1xuICAgIGNvbnN0IHVzZXJOYW1lID0gY2ZnLnVzZXJOYW1lIHx8IG51bGw7XG4gICAgbG9nZ2VyLnN0YXJ0U2Vzc2lvbihzZXNzaW9uVHlwZSwgdXNlck5hbWUpO1xuXG4gICAgLy8gVXNlIHN0ZXAxQXV0aFNlcnZlcklkIGlmIHByb3ZpZGVkLCBvdGhlcndpc2UgZmFsbCBiYWNrIHRvIGF1dGhvcml6YXRpb25TZXJ2ZXJJZFxuICAgIGNvbnN0IHN0ZXAxQXV0aFNlcnZlcklkID0gY2ZnLnN0ZXAxQXV0aFNlcnZlcklkICE9PSB1bmRlZmluZWQgXG4gICAgICA/IGNmZy5zdGVwMUF1dGhTZXJ2ZXJJZCBcbiAgICAgIDogY2ZnLmF1dGhvcml6YXRpb25TZXJ2ZXJJZDtcblxuICAgIGxvZ2dlci5sb2coMSwgJ09BdXRoIEF1dGhvcml6ZSBpbml0aWF0ZWQnLCB7XG4gICAgICBva3RhRG9tYWluOiBjZmcub2t0YURvbWFpbixcbiAgICAgIGNsaWVudElkOiBjZmcuY2xpZW50SWQsXG4gICAgICByZWRpcmVjdFVyaTogY2ZnLnJlZGlyZWN0VXJpLFxuICAgICAgYXV0aG9yaXphdGlvblNlcnZlcklkOiBzdGVwMUF1dGhTZXJ2ZXJJZCB8fCAnKG9yZyknLFxuICAgICAgY2xpZW50QXV0aE1ldGhvZDogY2ZnLmNsaWVudEF1dGhNZXRob2QgfHwgJ2NsaWVudF9zZWNyZXQnLFxuICAgICAgcmVzcG9uc2VUeXBlOiBjZmcucmVzcG9uc2VUeXBlIHx8ICdjb2RlJyxcbiAgICB9KTtcblxuICAgIC8vIEdlbmVyYXRlIG9yIHVzZSBjdXN0b20gc3RhdGUvbm9uY2VcbiAgICBjb25zdCBvYXV0aFN0YXRlID0gY2ZnLmN1c3RvbVN0YXRlIHx8IGNyeXB0by5yYW5kb21CeXRlcygxNikudG9TdHJpbmcoJ2hleCcpO1xuICAgIGNvbnN0IG9hdXRoTm9uY2UgPSBjZmcuY3VzdG9tTm9uY2UgfHwgY3J5cHRvLnJhbmRvbUJ5dGVzKDE2KS50b1N0cmluZygnaGV4Jyk7XG4gICAgY29uc3QgY29kZVZlcmlmaWVyID0gY3J5cHRvLnJhbmRvbUJ5dGVzKDMyKS50b1N0cmluZygnYmFzZTY0dXJsJyk7XG4gICAgY29uc3QgY29kZUNoYWxsZW5nZSA9IEJ1ZmZlci5mcm9tKFxuICAgICAgY3J5cHRvLmNyZWF0ZUhhc2goJ3NoYTI1NicpLnVwZGF0ZShjb2RlVmVyaWZpZXIpLmRpZ2VzdCgpXG4gICAgKS50b1N0cmluZygnYmFzZTY0dXJsJyk7XG5cbiAgICAvLyBTdG9yZSBPQXV0aCBjb25maWd1cmF0aW9uIGJ5IHN0YXRlIGZvciBjYWxsYmFjayB0byByZXRyaWV2ZVxuICAgIG9hdXRoU3RhdGVTdG9yZS5zZXQob2F1dGhTdGF0ZSwge1xuICAgICAgb2t0YURvbWFpbjogY2ZnLm9rdGFEb21haW4sXG4gICAgICBjbGllbnRJZDogY2ZnLmNsaWVudElkLFxuICAgICAgY2xpZW50U2VjcmV0OiBjZmcuY2xpZW50U2VjcmV0LFxuICAgICAgcmVkaXJlY3RVcmk6IGNmZy5yZWRpcmVjdFVyaSxcbiAgICAgIGF1dGhvcml6YXRpb25TZXJ2ZXJJZDogc3RlcDFBdXRoU2VydmVySWQsXG4gICAgICBjb2RlVmVyaWZpZXIsXG4gICAgICBub25jZTogb2F1dGhOb25jZSxcbiAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICB9KTtcblxuICAgIC8vIENsZWFuIHVwIG9sZCBlbnRyaWVzIChvbGRlciB0aGFuIDE1IG1pbnV0ZXMpXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBmb3IgKGNvbnN0IFtzdGF0ZSwgZGF0YV0gb2Ygb2F1dGhTdGF0ZVN0b3JlLmVudHJpZXMoKSkge1xuICAgICAgaWYgKG5vdyAtIGRhdGEuY3JlYXRlZEF0ID4gMTUgKiA2MCAqIDEwMDApIHtcbiAgICAgICAgb2F1dGhTdGF0ZVN0b3JlLmRlbGV0ZShzdGF0ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3RvcmUgaW4gc2VydmVybGVzcyBzZXNzaW9uXG4gICAgc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgb2F1dGhTdGF0ZSxcbiAgICAgIG9hdXRoTm9uY2UsXG4gICAgICBjb2RlVmVyaWZpZXIsXG4gICAgICBjZmcsXG4gICAgfSk7XG5cbiAgICBsb2dnZXIubG9nKDIsICdHZW5lcmF0ZWQgT0F1dGggcGFyYW1ldGVycycsIHtcbiAgICAgIHN0YXRlOiBvYXV0aFN0YXRlLFxuICAgICAgbm9uY2U6IG9hdXRoTm9uY2UsXG4gICAgICBjb2RlQ2hhbGxlbmdlLFxuICAgICAgcGtjZTogY2ZnLnVzZVBrY2UgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnLFxuICAgIH0pO1xuXG4gICAgY29uc3Qgb2F1dGhQYXRoID0gZ2V0T0F1dGhQYXRoKHN0ZXAxQXV0aFNlcnZlcklkKTtcbiAgICBcbiAgICAvLyBFbnN1cmUgb2t0YURvbWFpbiBpcyBjbGVhbiAocmVtb3ZlIHByb3RvY29sIGFuZCB0cmFpbGluZyBzbGFzaClcbiAgICBsZXQgY2xlYW5Eb21haW4gPSBjZmcub2t0YURvbWFpblxuICAgICAgLnJlcGxhY2UoL15odHRwcz86XFwvXFwvLywgJycpIC8vIFJlbW92ZSBodHRwczovLyBvciBodHRwOi8vXG4gICAgICAucmVwbGFjZSgvXFwvJC8sICcnKTsgLy8gUmVtb3ZlIHRyYWlsaW5nIHNsYXNoXG4gICAgXG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICBjbGllbnRfaWQ6IGNmZy5jbGllbnRJZCxcbiAgICAgIHJlc3BvbnNlX3R5cGU6IGNmZy5yZXNwb25zZVR5cGUgfHwgJ2NvZGUnLFxuICAgICAgc2NvcGU6IGNmZy5zY29wZSB8fCAnb3BlbmlkIHByb2ZpbGUgZW1haWwnLFxuICAgICAgcmVkaXJlY3RfdXJpOiBjZmcucmVkaXJlY3RVcmksXG4gICAgICBzdGF0ZTogb2F1dGhTdGF0ZSxcbiAgICAgIG5vbmNlOiBvYXV0aE5vbmNlLFxuICAgICAgLi4uKGNmZy51c2VQa2NlICYmIHsgY29kZV9jaGFsbGVuZ2U6IGNvZGVDaGFsbGVuZ2UsIGNvZGVfY2hhbGxlbmdlX21ldGhvZDogJ1MyNTYnIH0pLFxuICAgICAgLi4uKGNmZy5sb2dpbkhpbnQgJiYgeyBsb2dpbl9oaW50OiBjZmcubG9naW5IaW50IH0pLFxuICAgICAgLi4uKGNmZy5pZHBIaW50ICYmIHsgaWRwOiBjZmcuaWRwSGludCB9KSxcbiAgICAgIC4uLihjZmcucHJvbXB0ICYmIHsgcHJvbXB0OiBjZmcucHJvbXB0IH0pLFxuICAgICAgLi4uKGNmZy5tYXhBZ2UgJiYgeyBtYXhfYWdlOiBjZmcubWF4QWdlIH0pLFxuICAgIH0pO1xuXG4gICAgY29uc3QgYXV0aFVybCA9IGBodHRwczovLyR7Y2xlYW5Eb21haW59LyR7b2F1dGhQYXRofS9hdXRob3JpemU/JHtwYXJhbXMudG9TdHJpbmcoKX1gO1xuXG4gICAgbG9nZ2VyLmxvZygzLCAnQXV0aG9yaXphdGlvbiBVUkwgZ2VuZXJhdGVkJywge1xuICAgICAgdXJsOiBhdXRoVXJsLnJlcGxhY2UoL2NsaWVudF9pZD1bXiZdKy8sICdjbGllbnRfaWQ9KioqJyksXG4gICAgfSk7XG5cbiAgICByZXMuanNvbih7XG4gICAgICBhdXRoVXJsLFxuICAgICAgc3RhdGU6IG9hdXRoU3RhdGUsXG4gICAgICBub25jZTogb2F1dGhOb25jZSxcbiAgICAgIGNvZGVWZXJpZmllcjogY2ZnLnVzZVBrY2UgPyBjb2RlVmVyaWZpZXIgOiB1bmRlZmluZWQsXG4gICAgICBzZXNzaW9uSWQ6IGxvZ2dlci5nZXRTZXNzaW9uTWV0YSgpLnNlc3Npb25JZCxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIubG9nKDAsICdFcnJvciBpbiBPQXV0aCBhdXRob3JpemUnLCB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgdGhlIE9BdXRoIHBhdGggcHJlZml4IGJhc2VkIG9uIGF1dGhvcml6YXRpb24gc2VydmVyIElEXG4gKi9cbmZ1bmN0aW9uIGdldE9BdXRoUGF0aChhdXRob3JpemF0aW9uU2VydmVySWQpIHtcbiAgaWYgKCFhdXRob3JpemF0aW9uU2VydmVySWQpIHtcbiAgICByZXR1cm4gJ29hdXRoMi92MSc7XG4gIH1cbiAgcmV0dXJuIGBvYXV0aDIvJHthdXRob3JpemF0aW9uU2VydmVySWR9L3YxYDtcbn1cblxuLy8gRXhwb3J0IGZvciB1c2UgaW4gb3RoZXIgZW5kcG9pbnRzXG5leHBvcnQgeyBvYXV0aFN0YXRlU3RvcmUgfTtcbiJdLCJuYW1lcyI6WyJjcnlwdG8iLCJkZWNvZGVKd3QiLCJ2YWxpZGF0ZUJhc2ljT0F1dGhDb25maWciLCJzdG9yZSIsImxvZ2dlciIsIm9hdXRoU3RhdGVTdG9yZSIsIk1hcCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJzZXRIZWFkZXIiLCJoZWFkZXJzIiwib3JpZ2luIiwibWV0aG9kIiwic3RhdHVzIiwiZW5kIiwianNvbiIsImVycm9yIiwiY2ZnIiwiYm9keSIsImVyciIsInNlc3Npb25UeXBlIiwidXNlck5hbWUiLCJzdGFydFNlc3Npb24iLCJzdGVwMUF1dGhTZXJ2ZXJJZCIsInVuZGVmaW5lZCIsImF1dGhvcml6YXRpb25TZXJ2ZXJJZCIsImxvZyIsIm9rdGFEb21haW4iLCJjbGllbnRJZCIsInJlZGlyZWN0VXJpIiwiY2xpZW50QXV0aE1ldGhvZCIsInJlc3BvbnNlVHlwZSIsIm9hdXRoU3RhdGUiLCJjdXN0b21TdGF0ZSIsInJhbmRvbUJ5dGVzIiwidG9TdHJpbmciLCJvYXV0aE5vbmNlIiwiY3VzdG9tTm9uY2UiLCJjb2RlVmVyaWZpZXIiLCJjb2RlQ2hhbGxlbmdlIiwiQnVmZmVyIiwiZnJvbSIsImNyZWF0ZUhhc2giLCJ1cGRhdGUiLCJkaWdlc3QiLCJzZXQiLCJjbGllbnRTZWNyZXQiLCJub25jZSIsImNyZWF0ZWRBdCIsIkRhdGUiLCJub3ciLCJzdGF0ZSIsImRhdGEiLCJlbnRyaWVzIiwiZGVsZXRlIiwic2V0U3RhdGUiLCJwa2NlIiwidXNlUGtjZSIsIm9hdXRoUGF0aCIsImdldE9BdXRoUGF0aCIsImNsZWFuRG9tYWluIiwicmVwbGFjZSIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImNsaWVudF9pZCIsInJlc3BvbnNlX3R5cGUiLCJzY29wZSIsInJlZGlyZWN0X3VyaSIsImNvZGVfY2hhbGxlbmdlIiwiY29kZV9jaGFsbGVuZ2VfbWV0aG9kIiwibG9naW5IaW50IiwibG9naW5faGludCIsImlkcEhpbnQiLCJpZHAiLCJwcm9tcHQiLCJtYXhBZ2UiLCJtYXhfYWdlIiwiYXV0aFVybCIsInVybCIsInNlc3Npb25JZCIsImdldFNlc3Npb25NZXRhIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/oauth/authorize.js\n");

/***/ }),

/***/ "(api)/./pages/api/state/index.js":
/*!**********************************!*\
  !*** ./pages/api/state/index.js ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _src_state_sessionStore_serverless__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../src/state/sessionStore-serverless */ \"(api)/./src/state/sessionStore-serverless.js\");\n/* harmony import */ var _oauth_authorize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../oauth/authorize */ \"(api)/./pages/api/oauth/authorize.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_oauth_authorize__WEBPACK_IMPORTED_MODULE_1__]);\n_oauth_authorize__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n/**\n * Next.js API Route - State\n * GET/POST/DELETE /api/state\n */ async function handler(req, res) {\n    // Enable CORS\n    res.setHeader(\"Access-Control-Allow-Credentials\", \"true\");\n    res.setHeader(\"Access-Control-Allow-Origin\", req.headers.origin || \"*\");\n    res.setHeader(\"Access-Control-Allow-Methods\", \"GET,OPTIONS,POST,DELETE\");\n    res.setHeader(\"Access-Control-Allow-Headers\", \"X-CSRF-Token,X-Requested-With,Accept,Accept-Version,Content-Length,Content-MD5,Content-Type,Date,X-Api-Version\");\n    if (req.method === \"OPTIONS\") {\n        res.status(200).end();\n        return;\n    }\n    try {\n        if (req.method === \"GET\") {\n            // Check if requesting OAuth state by state parameter\n            const { state } = req.query;\n            if (state) {\n                const oauthData = _oauth_authorize__WEBPACK_IMPORTED_MODULE_1__.oauthStateStore.get(state);\n                if (!oauthData) {\n                    return res.status(404).json({\n                        error: \"OAuth state not found or expired\"\n                    });\n                }\n                return res.json(oauthData);\n            }\n            // Get current state\n            res.json(_src_state_sessionStore_serverless__WEBPACK_IMPORTED_MODULE_0__.getState());\n        } else if (req.method === \"POST\") {\n            // Update state\n            const { key, value, state } = req.body;\n            let updated;\n            if (state) {\n                // Replace entire state\n                updated = _src_state_sessionStore_serverless__WEBPACK_IMPORTED_MODULE_0__.setState(state);\n            } else if (key && value !== undefined) {\n                // Update single property\n                updated = _src_state_sessionStore_serverless__WEBPACK_IMPORTED_MODULE_0__.updateState(key, value);\n            } else {\n                return res.status(400).json({\n                    error: \"Provide either state object or key/value pair\"\n                });\n            }\n            res.json(updated);\n        } else if (req.method === \"DELETE\") {\n            // Reset state\n            const reset = _src_state_sessionStore_serverless__WEBPACK_IMPORTED_MODULE_0__.resetState();\n            res.json({\n                success: true,\n                state: reset\n            });\n        } else {\n            res.status(405).json({\n                error: \"Method not allowed\"\n            });\n        }\n    } catch (error) {\n        res.status(500).json({\n            error: error.message\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvc3RhdGUvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQW9FO0FBQ2Y7QUFFckQ7OztDQUdDLEdBQ2MsZUFBZUUsUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQzVDLGNBQWM7SUFDZEEsSUFBSUMsU0FBUyxDQUFDLG9DQUFvQztJQUNsREQsSUFBSUMsU0FBUyxDQUFDLCtCQUErQkYsSUFBSUcsT0FBTyxDQUFDQyxNQUFNLElBQUk7SUFDbkVILElBQUlDLFNBQVMsQ0FBQyxnQ0FBZ0M7SUFDOUNELElBQUlDLFNBQVMsQ0FDWCxnQ0FDQTtJQUdGLElBQUlGLElBQUlLLE1BQU0sS0FBSyxXQUFXO1FBQzVCSixJQUFJSyxNQUFNLENBQUMsS0FBS0MsR0FBRztRQUNuQjtJQUNGO0lBRUEsSUFBSTtRQUNGLElBQUlQLElBQUlLLE1BQU0sS0FBSyxPQUFPO1lBQ3hCLHFEQUFxRDtZQUNyRCxNQUFNLEVBQUVHLEtBQUssRUFBRSxHQUFHUixJQUFJUyxLQUFLO1lBRTNCLElBQUlELE9BQU87Z0JBQ1QsTUFBTUUsWUFBWVosNkRBQWVBLENBQUNhLEdBQUcsQ0FBQ0g7Z0JBQ3RDLElBQUksQ0FBQ0UsV0FBVztvQkFDZCxPQUFPVCxJQUFJSyxNQUFNLENBQUMsS0FBS00sSUFBSSxDQUFDO3dCQUFFQyxPQUFPO29CQUFtQztnQkFDMUU7Z0JBQ0EsT0FBT1osSUFBSVcsSUFBSSxDQUFDRjtZQUNsQjtZQUVBLG9CQUFvQjtZQUNwQlQsSUFBSVcsSUFBSSxDQUFDZix3RUFBYztRQUN6QixPQUFPLElBQUlHLElBQUlLLE1BQU0sS0FBSyxRQUFRO1lBQ2hDLGVBQWU7WUFDZixNQUFNLEVBQUVVLEdBQUcsRUFBRUMsS0FBSyxFQUFFUixLQUFLLEVBQUUsR0FBR1IsSUFBSWlCLElBQUk7WUFFdEMsSUFBSUM7WUFDSixJQUFJVixPQUFPO2dCQUNULHVCQUF1QjtnQkFDdkJVLFVBQVVyQix3RUFBYyxDQUFDVztZQUMzQixPQUFPLElBQUlPLE9BQU9DLFVBQVVJLFdBQVc7Z0JBQ3JDLHlCQUF5QjtnQkFDekJGLFVBQVVyQiwyRUFBaUIsQ0FBQ2tCLEtBQUtDO1lBQ25DLE9BQU87Z0JBQ0wsT0FBT2YsSUFBSUssTUFBTSxDQUFDLEtBQUtNLElBQUksQ0FBQztvQkFBRUMsT0FBTztnQkFBZ0Q7WUFDdkY7WUFFQVosSUFBSVcsSUFBSSxDQUFDTTtRQUNYLE9BQU8sSUFBSWxCLElBQUlLLE1BQU0sS0FBSyxVQUFVO1lBQ2xDLGNBQWM7WUFDZCxNQUFNaUIsUUFBUXpCLDBFQUFnQjtZQUM5QkksSUFBSVcsSUFBSSxDQUFDO2dCQUFFWSxTQUFTO2dCQUFNaEIsT0FBT2M7WUFBTTtRQUN6QyxPQUFPO1lBQ0xyQixJQUFJSyxNQUFNLENBQUMsS0FBS00sSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQXFCO1FBQ3JEO0lBQ0YsRUFBRSxPQUFPQSxPQUFPO1FBQ2RaLElBQUlLLE1BQU0sQ0FBQyxLQUFLTSxJQUFJLENBQUM7WUFBRUMsT0FBT0EsTUFBTVksT0FBTztRQUFDO0lBQzlDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9va3RhLWFpLXNpbXVsYXRvci8uL3BhZ2VzL2FwaS9zdGF0ZS9pbmRleC5qcz9iMmY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHN0b3JlIGZyb20gJy4uLy4uLy4uL3NyYy9zdGF0ZS9zZXNzaW9uU3RvcmUtc2VydmVybGVzcyc7XG5pbXBvcnQgeyBvYXV0aFN0YXRlU3RvcmUgfSBmcm9tICcuLi9vYXV0aC9hdXRob3JpemUnO1xuXG4vKipcbiAqIE5leHQuanMgQVBJIFJvdXRlIC0gU3RhdGVcbiAqIEdFVC9QT1NUL0RFTEVURSAvYXBpL3N0YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgLy8gRW5hYmxlIENPUlNcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCAndHJ1ZScpO1xuICByZXMuc2V0SGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCByZXEuaGVhZGVycy5vcmlnaW4gfHwgJyonKTtcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsT1BUSU9OUyxQT1NULERFTEVURScpO1xuICByZXMuc2V0SGVhZGVyKFxuICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJyxcbiAgICAnWC1DU1JGLVRva2VuLFgtUmVxdWVzdGVkLVdpdGgsQWNjZXB0LEFjY2VwdC1WZXJzaW9uLENvbnRlbnQtTGVuZ3RoLENvbnRlbnQtTUQ1LENvbnRlbnQtVHlwZSxEYXRlLFgtQXBpLVZlcnNpb24nXG4gICk7XG5cbiAgaWYgKHJlcS5tZXRob2QgPT09ICdPUFRJT05TJykge1xuICAgIHJlcy5zdGF0dXMoMjAwKS5lbmQoKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0cnkge1xuICAgIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykge1xuICAgICAgLy8gQ2hlY2sgaWYgcmVxdWVzdGluZyBPQXV0aCBzdGF0ZSBieSBzdGF0ZSBwYXJhbWV0ZXJcbiAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHJlcS5xdWVyeTtcbiAgICAgIFxuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIGNvbnN0IG9hdXRoRGF0YSA9IG9hdXRoU3RhdGVTdG9yZS5nZXQoc3RhdGUpO1xuICAgICAgICBpZiAoIW9hdXRoRGF0YSkge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnT0F1dGggc3RhdGUgbm90IGZvdW5kIG9yIGV4cGlyZWQnIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXMuanNvbihvYXV0aERhdGEpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHZXQgY3VycmVudCBzdGF0ZVxuICAgICAgcmVzLmpzb24oc3RvcmUuZ2V0U3RhdGUoKSk7XG4gICAgfSBlbHNlIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICAgIC8vIFVwZGF0ZSBzdGF0ZVxuICAgICAgY29uc3QgeyBrZXksIHZhbHVlLCBzdGF0ZSB9ID0gcmVxLmJvZHk7XG4gICAgICBcbiAgICAgIGxldCB1cGRhdGVkO1xuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIC8vIFJlcGxhY2UgZW50aXJlIHN0YXRlXG4gICAgICAgIHVwZGF0ZWQgPSBzdG9yZS5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgICB9IGVsc2UgaWYgKGtleSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBzaW5nbGUgcHJvcGVydHlcbiAgICAgICAgdXBkYXRlZCA9IHN0b3JlLnVwZGF0ZVN0YXRlKGtleSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdQcm92aWRlIGVpdGhlciBzdGF0ZSBvYmplY3Qgb3Iga2V5L3ZhbHVlIHBhaXInIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXMuanNvbih1cGRhdGVkKTtcbiAgICB9IGVsc2UgaWYgKHJlcS5tZXRob2QgPT09ICdERUxFVEUnKSB7XG4gICAgICAvLyBSZXNldCBzdGF0ZVxuICAgICAgY29uc3QgcmVzZXQgPSBzdG9yZS5yZXNldFN0YXRlKCk7XG4gICAgICByZXMuanNvbih7IHN1Y2Nlc3M6IHRydWUsIHN0YXRlOiByZXNldCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJzdG9yZSIsIm9hdXRoU3RhdGVTdG9yZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJzZXRIZWFkZXIiLCJoZWFkZXJzIiwib3JpZ2luIiwibWV0aG9kIiwic3RhdHVzIiwiZW5kIiwic3RhdGUiLCJxdWVyeSIsIm9hdXRoRGF0YSIsImdldCIsImpzb24iLCJlcnJvciIsImdldFN0YXRlIiwia2V5IiwidmFsdWUiLCJib2R5IiwidXBkYXRlZCIsInNldFN0YXRlIiwidW5kZWZpbmVkIiwidXBkYXRlU3RhdGUiLCJyZXNldCIsInJlc2V0U3RhdGUiLCJzdWNjZXNzIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/state/index.js\n");

/***/ }),

/***/ "(api)/./src/config.js":
/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   validateAgenticConfig: () => (/* binding */ validateAgenticConfig),\n/* harmony export */   validateBasicOAuthConfig: () => (/* binding */ validateBasicOAuthConfig)\n/* harmony export */ });\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dotenv/config */ \"dotenv/config\");\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dotenv_config__WEBPACK_IMPORTED_MODULE_0__);\n\nconst config = {\n    port: parseInt(process.env.PORT || \"3000\", 10)\n};\n/**\n * Validate basic OAuth config for simple Authorization Code Flow.\n * Used by setup wizard and auth-code-flow pages.\n * Returns an error message string or null if valid.\n */ function validateBasicOAuthConfig(cfg) {\n    const required = [\n        \"oktaDomain\",\n        \"clientId\",\n        \"redirectUri\"\n    ];\n    const authMethod = cfg.clientAuthMethod || \"client_secret\";\n    // clientSecret only required for client_secret auth method\n    if (authMethod === \"client_secret\") {\n        required.push(\"clientSecret\");\n    }\n    const missing = required.filter((key)=>!cfg[key]);\n    if (missing.length) {\n        return `Missing required config: ${missing.join(\", \")}`;\n    }\n    return null;\n}\n/**\n * Validate config for Agentic Token Exchange flow.\n * Returns an error message string or null if valid.\n */ function validateAgenticConfig(cfg) {\n    // Validate basic OAuth fields\n    const required = [\n        \"oktaDomain\",\n        \"clientId\",\n        \"redirectUri\"\n    ];\n    let missing = required.filter((key)=>!cfg[key]);\n    if (missing.length) {\n        return `Missing required config: ${missing.join(\", \")}`;\n    }\n    // Additional required fields for Agentic flow\n    const agenticRequired = [\n        \"principalId\",\n        \"privateJwk\"\n    ];\n    missing = agenticRequired.filter((key)=>!cfg[key]);\n    if (missing.length) {\n        return `Missing required config: ${missing.join(\", \")}`;\n    }\n    if (typeof cfg.privateJwk === \"string\") {\n        try {\n            cfg.privateJwk = JSON.parse(cfg.privateJwk);\n        } catch  {\n            return \"privateJwk must be valid JSON\";\n        }\n    }\n    return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvY29uZmlnLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXVCO0FBRWhCLE1BQU1BLFNBQVM7SUFDcEJDLE1BQU1DLFNBQVNDLFFBQVFDLEdBQUcsQ0FBQ0MsSUFBSSxJQUFJLFFBQVE7QUFDN0MsRUFBRTtBQUVGOzs7O0NBSUMsR0FDTSxTQUFTQyx5QkFBeUJDLEdBQUc7SUFDMUMsTUFBTUMsV0FBVztRQUFDO1FBQWM7UUFBWTtLQUFjO0lBRTFELE1BQU1DLGFBQWFGLElBQUlHLGdCQUFnQixJQUFJO0lBRTNDLDJEQUEyRDtJQUMzRCxJQUFJRCxlQUFlLGlCQUFpQjtRQUNsQ0QsU0FBU0csSUFBSSxDQUFDO0lBQ2hCO0lBRUEsTUFBTUMsVUFBVUosU0FBU0ssTUFBTSxDQUFDLENBQUNDLE1BQVEsQ0FBQ1AsR0FBRyxDQUFDTyxJQUFJO0lBQ2xELElBQUlGLFFBQVFHLE1BQU0sRUFBRTtRQUNsQixPQUFPLENBQUMseUJBQXlCLEVBQUVILFFBQVFJLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDekQ7SUFFQSxPQUFPO0FBQ1Q7QUFFQTs7O0NBR0MsR0FDTSxTQUFTQyxzQkFBc0JWLEdBQUc7SUFDdkMsOEJBQThCO0lBQzlCLE1BQU1DLFdBQVc7UUFBQztRQUFjO1FBQVk7S0FBYztJQUMxRCxJQUFJSSxVQUFVSixTQUFTSyxNQUFNLENBQUMsQ0FBQ0MsTUFBUSxDQUFDUCxHQUFHLENBQUNPLElBQUk7SUFDaEQsSUFBSUYsUUFBUUcsTUFBTSxFQUFFO1FBQ2xCLE9BQU8sQ0FBQyx5QkFBeUIsRUFBRUgsUUFBUUksSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUN6RDtJQUVBLDhDQUE4QztJQUM5QyxNQUFNRSxrQkFBa0I7UUFDdEI7UUFDQTtLQUNEO0lBRUROLFVBQVVNLGdCQUFnQkwsTUFBTSxDQUFDLENBQUNDLE1BQVEsQ0FBQ1AsR0FBRyxDQUFDTyxJQUFJO0lBQ25ELElBQUlGLFFBQVFHLE1BQU0sRUFBRTtRQUNsQixPQUFPLENBQUMseUJBQXlCLEVBQUVILFFBQVFJLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDekQ7SUFFQSxJQUFJLE9BQU9ULElBQUlZLFVBQVUsS0FBSyxVQUFVO1FBQ3RDLElBQUk7WUFDRlosSUFBSVksVUFBVSxHQUFHQyxLQUFLQyxLQUFLLENBQUNkLElBQUlZLFVBQVU7UUFDNUMsRUFBRSxPQUFNO1lBQ04sT0FBTztRQUNUO0lBQ0Y7SUFFQSxPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9va3RhLWFpLXNpbXVsYXRvci8uL3NyYy9jb25maWcuanM/MjRhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ2RvdGVudi9jb25maWcnO1xuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBwb3J0OiBwYXJzZUludChwcm9jZXNzLmVudi5QT1JUIHx8ICczMDAwJywgMTApLFxufTtcblxuLyoqXG4gKiBWYWxpZGF0ZSBiYXNpYyBPQXV0aCBjb25maWcgZm9yIHNpbXBsZSBBdXRob3JpemF0aW9uIENvZGUgRmxvdy5cbiAqIFVzZWQgYnkgc2V0dXAgd2l6YXJkIGFuZCBhdXRoLWNvZGUtZmxvdyBwYWdlcy5cbiAqIFJldHVybnMgYW4gZXJyb3IgbWVzc2FnZSBzdHJpbmcgb3IgbnVsbCBpZiB2YWxpZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQmFzaWNPQXV0aENvbmZpZyhjZmcpIHtcbiAgY29uc3QgcmVxdWlyZWQgPSBbJ29rdGFEb21haW4nLCAnY2xpZW50SWQnLCAncmVkaXJlY3RVcmknXTtcblxuICBjb25zdCBhdXRoTWV0aG9kID0gY2ZnLmNsaWVudEF1dGhNZXRob2QgfHwgJ2NsaWVudF9zZWNyZXQnO1xuXG4gIC8vIGNsaWVudFNlY3JldCBvbmx5IHJlcXVpcmVkIGZvciBjbGllbnRfc2VjcmV0IGF1dGggbWV0aG9kXG4gIGlmIChhdXRoTWV0aG9kID09PSAnY2xpZW50X3NlY3JldCcpIHtcbiAgICByZXF1aXJlZC5wdXNoKCdjbGllbnRTZWNyZXQnKTtcbiAgfVxuXG4gIGNvbnN0IG1pc3NpbmcgPSByZXF1aXJlZC5maWx0ZXIoKGtleSkgPT4gIWNmZ1trZXldKTtcbiAgaWYgKG1pc3NpbmcubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGBNaXNzaW5nIHJlcXVpcmVkIGNvbmZpZzogJHttaXNzaW5nLmpvaW4oJywgJyl9YDtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlIGNvbmZpZyBmb3IgQWdlbnRpYyBUb2tlbiBFeGNoYW5nZSBmbG93LlxuICogUmV0dXJucyBhbiBlcnJvciBtZXNzYWdlIHN0cmluZyBvciBudWxsIGlmIHZhbGlkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVBZ2VudGljQ29uZmlnKGNmZykge1xuICAvLyBWYWxpZGF0ZSBiYXNpYyBPQXV0aCBmaWVsZHNcbiAgY29uc3QgcmVxdWlyZWQgPSBbJ29rdGFEb21haW4nLCAnY2xpZW50SWQnLCAncmVkaXJlY3RVcmknXTtcbiAgbGV0IG1pc3NpbmcgPSByZXF1aXJlZC5maWx0ZXIoKGtleSkgPT4gIWNmZ1trZXldKTtcbiAgaWYgKG1pc3NpbmcubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGBNaXNzaW5nIHJlcXVpcmVkIGNvbmZpZzogJHttaXNzaW5nLmpvaW4oJywgJyl9YDtcbiAgfVxuXG4gIC8vIEFkZGl0aW9uYWwgcmVxdWlyZWQgZmllbGRzIGZvciBBZ2VudGljIGZsb3dcbiAgY29uc3QgYWdlbnRpY1JlcXVpcmVkID0gW1xuICAgICdwcmluY2lwYWxJZCcsXG4gICAgJ3ByaXZhdGVKd2snLFxuICBdO1xuXG4gIG1pc3NpbmcgPSBhZ2VudGljUmVxdWlyZWQuZmlsdGVyKChrZXkpID0+ICFjZmdba2V5XSk7XG4gIGlmIChtaXNzaW5nLmxlbmd0aCkge1xuICAgIHJldHVybiBgTWlzc2luZyByZXF1aXJlZCBjb25maWc6ICR7bWlzc2luZy5qb2luKCcsICcpfWA7XG4gIH1cblxuICBpZiAodHlwZW9mIGNmZy5wcml2YXRlSndrID09PSAnc3RyaW5nJykge1xuICAgIHRyeSB7XG4gICAgICBjZmcucHJpdmF0ZUp3ayA9IEpTT04ucGFyc2UoY2ZnLnByaXZhdGVKd2spO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuICdwcml2YXRlSndrIG11c3QgYmUgdmFsaWQgSlNPTic7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4iXSwibmFtZXMiOlsiY29uZmlnIiwicG9ydCIsInBhcnNlSW50IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJ2YWxpZGF0ZUJhc2ljT0F1dGhDb25maWciLCJjZmciLCJyZXF1aXJlZCIsImF1dGhNZXRob2QiLCJjbGllbnRBdXRoTWV0aG9kIiwicHVzaCIsIm1pc3NpbmciLCJmaWx0ZXIiLCJrZXkiLCJsZW5ndGgiLCJqb2luIiwidmFsaWRhdGVBZ2VudGljQ29uZmlnIiwiYWdlbnRpY1JlcXVpcmVkIiwicHJpdmF0ZUp3ayIsIkpTT04iLCJwYXJzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/config.js\n");

/***/ }),

/***/ "(api)/./src/services/logger-serverless.js":
/*!*******************************************!*\
  !*** ./src/services/logger-serverless.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearLogs: () => (/* binding */ clearLogs),\n/* harmony export */   endSession: () => (/* binding */ endSession),\n/* harmony export */   exportAsJson: () => (/* binding */ exportAsJson),\n/* harmony export */   getFormattedLogs: () => (/* binding */ getFormattedLogs),\n/* harmony export */   getLog: () => (/* binding */ getLog),\n/* harmony export */   getLogsByStep: () => (/* binding */ getLogsByStep),\n/* harmony export */   getSessionLogs: () => (/* binding */ getSessionLogs),\n/* harmony export */   getSessionMeta: () => (/* binding */ getSessionMeta),\n/* harmony export */   log: () => (/* binding */ log),\n/* harmony export */   startSession: () => (/* binding */ startSession)\n/* harmony export */ });\n/**\n * Serverless-compatible logger for Vercel\n * Stores logs in memory and sends to Vercel's logging service\n */ // In-memory log storage (per request context)\nlet currentSessionLogs = [];\nlet currentSessionMeta = null;\n/**\n * Start a new session log\n */ function startSession(sessionType = \"ID-JAG Flow\", userName = null) {\n    const now = new Date();\n    currentSessionMeta = {\n        sessionType,\n        userName,\n        startTime: now.toISOString(),\n        sessionId: `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n    };\n    currentSessionLogs = [];\n    log(0, \"Session started\", {\n        sessionType,\n        userName,\n        timestamp: now.toISOString()\n    });\n    return currentSessionMeta.sessionId;\n}\n/**\n * Log a message\n */ function log(step, message, data = {}) {\n    const timestamp = new Date().toISOString();\n    const logEntry = {\n        timestamp,\n        step,\n        message,\n        data\n    };\n    currentSessionLogs.push(logEntry);\n    // Also log to Vercel's standard output\n    console.log(`[${step}] ${message}`, JSON.stringify(data));\n    return logEntry;\n}\n/**\n * Get current session logs\n */ function getSessionLogs() {\n    return currentSessionLogs;\n}\n/**\n * Get session metadata\n */ function getSessionMeta() {\n    return currentSessionMeta;\n}\n/**\n * Get formatted logs for export\n */ function getFormattedLogs() {\n    return {\n        meta: currentSessionMeta,\n        logs: currentSessionLogs\n    };\n}\n/**\n * End session and return formatted output\n */ function endSession() {\n    const formatted = getFormattedLogs();\n    log(0, \"Session ended\", {\n        timestamp: new Date().toISOString(),\n        logCount: currentSessionLogs.length\n    });\n    return formatted;\n}\n/**\n * Clear logs\n */ function clearLogs() {\n    currentSessionLogs = [];\n    currentSessionMeta = null;\n}\n/**\n * Export logs as JSON\n */ function exportAsJson() {\n    return JSON.stringify(getFormattedLogs(), null, 2);\n}\n/**\n * Get single log entry\n */ function getLog(index) {\n    return currentSessionLogs[index] || null;\n}\n/**\n * Get logs by step\n */ function getLogsByStep(step) {\n    return currentSessionLogs.filter((log)=>log.step === step);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvc2VydmljZXMvbG9nZ2VyLXNlcnZlcmxlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBOzs7Q0FHQyxHQUVELDhDQUE4QztBQUM5QyxJQUFJQSxxQkFBcUIsRUFBRTtBQUMzQixJQUFJQyxxQkFBcUI7QUFFekI7O0NBRUMsR0FDTSxTQUFTQyxhQUFhQyxjQUFjLGFBQWEsRUFBRUMsV0FBVyxJQUFJO0lBQ3ZFLE1BQU1DLE1BQU0sSUFBSUM7SUFDaEJMLHFCQUFxQjtRQUNuQkU7UUFDQUM7UUFDQUcsV0FBV0YsSUFBSUcsV0FBVztRQUMxQkMsV0FBVyxDQUFDLEVBQUVILEtBQUtELEdBQUcsR0FBRyxDQUFDLEVBQUVLLEtBQUtDLE1BQU0sR0FBR0MsUUFBUSxDQUFDLElBQUlDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUN2RTtJQUNBYixxQkFBcUIsRUFBRTtJQUV2QmMsSUFBSSxHQUFHLG1CQUFtQjtRQUN4Qlg7UUFDQUM7UUFDQVcsV0FBV1YsSUFBSUcsV0FBVztJQUM1QjtJQUVBLE9BQU9QLG1CQUFtQlEsU0FBUztBQUNyQztBQUVBOztDQUVDLEdBQ00sU0FBU0ssSUFBSUUsSUFBSSxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sQ0FBQyxDQUFDO0lBQzFDLE1BQU1ILFlBQVksSUFBSVQsT0FBT0UsV0FBVztJQUN4QyxNQUFNVyxXQUFXO1FBQ2ZKO1FBQ0FDO1FBQ0FDO1FBQ0FDO0lBQ0Y7SUFFQWxCLG1CQUFtQm9CLElBQUksQ0FBQ0Q7SUFFeEIsdUNBQXVDO0lBQ3ZDRSxRQUFRUCxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUVFLEtBQUssRUFBRSxFQUFFQyxRQUFRLENBQUMsRUFBRUssS0FBS0MsU0FBUyxDQUFDTDtJQUVuRCxPQUFPQztBQUNUO0FBRUE7O0NBRUMsR0FDTSxTQUFTSztJQUNkLE9BQU94QjtBQUNUO0FBRUE7O0NBRUMsR0FDTSxTQUFTeUI7SUFDZCxPQUFPeEI7QUFDVDtBQUVBOztDQUVDLEdBQ00sU0FBU3lCO0lBQ2QsT0FBTztRQUNMQyxNQUFNMUI7UUFDTjJCLE1BQU01QjtJQUNSO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNNLFNBQVM2QjtJQUNkLE1BQU1DLFlBQVlKO0lBRWxCWixJQUFJLEdBQUcsaUJBQWlCO1FBQ3RCQyxXQUFXLElBQUlULE9BQU9FLFdBQVc7UUFDakN1QixVQUFVL0IsbUJBQW1CZ0MsTUFBTTtJQUNyQztJQUVBLE9BQU9GO0FBQ1Q7QUFFQTs7Q0FFQyxHQUNNLFNBQVNHO0lBQ2RqQyxxQkFBcUIsRUFBRTtJQUN2QkMscUJBQXFCO0FBQ3ZCO0FBRUE7O0NBRUMsR0FDTSxTQUFTaUM7SUFDZCxPQUFPWixLQUFLQyxTQUFTLENBQUNHLG9CQUFvQixNQUFNO0FBQ2xEO0FBRUE7O0NBRUMsR0FDTSxTQUFTUyxPQUFPQyxLQUFLO0lBQzFCLE9BQU9wQyxrQkFBa0IsQ0FBQ29DLE1BQU0sSUFBSTtBQUN0QztBQUVBOztDQUVDLEdBQ00sU0FBU0MsY0FBY3JCLElBQUk7SUFDaEMsT0FBT2hCLG1CQUFtQnNDLE1BQU0sQ0FBQ3hCLENBQUFBLE1BQU9BLElBQUlFLElBQUksS0FBS0E7QUFDdkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9va3RhLWFpLXNpbXVsYXRvci8uL3NyYy9zZXJ2aWNlcy9sb2dnZXItc2VydmVybGVzcy5qcz83ZGRhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2VydmVybGVzcy1jb21wYXRpYmxlIGxvZ2dlciBmb3IgVmVyY2VsXG4gKiBTdG9yZXMgbG9ncyBpbiBtZW1vcnkgYW5kIHNlbmRzIHRvIFZlcmNlbCdzIGxvZ2dpbmcgc2VydmljZVxuICovXG5cbi8vIEluLW1lbW9yeSBsb2cgc3RvcmFnZSAocGVyIHJlcXVlc3QgY29udGV4dClcbmxldCBjdXJyZW50U2Vzc2lvbkxvZ3MgPSBbXTtcbmxldCBjdXJyZW50U2Vzc2lvbk1ldGEgPSBudWxsO1xuXG4vKipcbiAqIFN0YXJ0IGEgbmV3IHNlc3Npb24gbG9nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFNlc3Npb24oc2Vzc2lvblR5cGUgPSAnSUQtSkFHIEZsb3cnLCB1c2VyTmFtZSA9IG51bGwpIHtcbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgY3VycmVudFNlc3Npb25NZXRhID0ge1xuICAgIHNlc3Npb25UeXBlLFxuICAgIHVzZXJOYW1lLFxuICAgIHN0YXJ0VGltZTogbm93LnRvSVNPU3RyaW5nKCksXG4gICAgc2Vzc2lvbklkOiBgJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gLFxuICB9O1xuICBjdXJyZW50U2Vzc2lvbkxvZ3MgPSBbXTtcbiAgXG4gIGxvZygwLCAnU2Vzc2lvbiBzdGFydGVkJywge1xuICAgIHNlc3Npb25UeXBlLFxuICAgIHVzZXJOYW1lLFxuICAgIHRpbWVzdGFtcDogbm93LnRvSVNPU3RyaW5nKCksXG4gIH0pO1xuICBcbiAgcmV0dXJuIGN1cnJlbnRTZXNzaW9uTWV0YS5zZXNzaW9uSWQ7XG59XG5cbi8qKlxuICogTG9nIGEgbWVzc2FnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9nKHN0ZXAsIG1lc3NhZ2UsIGRhdGEgPSB7fSkge1xuICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gIGNvbnN0IGxvZ0VudHJ5ID0ge1xuICAgIHRpbWVzdGFtcCxcbiAgICBzdGVwLFxuICAgIG1lc3NhZ2UsXG4gICAgZGF0YSxcbiAgfTtcbiAgXG4gIGN1cnJlbnRTZXNzaW9uTG9ncy5wdXNoKGxvZ0VudHJ5KTtcbiAgXG4gIC8vIEFsc28gbG9nIHRvIFZlcmNlbCdzIHN0YW5kYXJkIG91dHB1dFxuICBjb25zb2xlLmxvZyhgWyR7c3RlcH1dICR7bWVzc2FnZX1gLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gIFxuICByZXR1cm4gbG9nRW50cnk7XG59XG5cbi8qKlxuICogR2V0IGN1cnJlbnQgc2Vzc2lvbiBsb2dzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXNzaW9uTG9ncygpIHtcbiAgcmV0dXJuIGN1cnJlbnRTZXNzaW9uTG9ncztcbn1cblxuLyoqXG4gKiBHZXQgc2Vzc2lvbiBtZXRhZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2Vzc2lvbk1ldGEoKSB7XG4gIHJldHVybiBjdXJyZW50U2Vzc2lvbk1ldGE7XG59XG5cbi8qKlxuICogR2V0IGZvcm1hdHRlZCBsb2dzIGZvciBleHBvcnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZvcm1hdHRlZExvZ3MoKSB7XG4gIHJldHVybiB7XG4gICAgbWV0YTogY3VycmVudFNlc3Npb25NZXRhLFxuICAgIGxvZ3M6IGN1cnJlbnRTZXNzaW9uTG9ncyxcbiAgfTtcbn1cblxuLyoqXG4gKiBFbmQgc2Vzc2lvbiBhbmQgcmV0dXJuIGZvcm1hdHRlZCBvdXRwdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZFNlc3Npb24oKSB7XG4gIGNvbnN0IGZvcm1hdHRlZCA9IGdldEZvcm1hdHRlZExvZ3MoKTtcbiAgXG4gIGxvZygwLCAnU2Vzc2lvbiBlbmRlZCcsIHtcbiAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICBsb2dDb3VudDogY3VycmVudFNlc3Npb25Mb2dzLmxlbmd0aCxcbiAgfSk7XG4gIFxuICByZXR1cm4gZm9ybWF0dGVkO1xufVxuXG4vKipcbiAqIENsZWFyIGxvZ3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyTG9ncygpIHtcbiAgY3VycmVudFNlc3Npb25Mb2dzID0gW107XG4gIGN1cnJlbnRTZXNzaW9uTWV0YSA9IG51bGw7XG59XG5cbi8qKlxuICogRXhwb3J0IGxvZ3MgYXMgSlNPTlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwb3J0QXNKc29uKCkge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZ2V0Rm9ybWF0dGVkTG9ncygpLCBudWxsLCAyKTtcbn1cblxuLyoqXG4gKiBHZXQgc2luZ2xlIGxvZyBlbnRyeVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9nKGluZGV4KSB7XG4gIHJldHVybiBjdXJyZW50U2Vzc2lvbkxvZ3NbaW5kZXhdIHx8IG51bGw7XG59XG5cbi8qKlxuICogR2V0IGxvZ3MgYnkgc3RlcFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9nc0J5U3RlcChzdGVwKSB7XG4gIHJldHVybiBjdXJyZW50U2Vzc2lvbkxvZ3MuZmlsdGVyKGxvZyA9PiBsb2cuc3RlcCA9PT0gc3RlcCk7XG59XG4iXSwibmFtZXMiOlsiY3VycmVudFNlc3Npb25Mb2dzIiwiY3VycmVudFNlc3Npb25NZXRhIiwic3RhcnRTZXNzaW9uIiwic2Vzc2lvblR5cGUiLCJ1c2VyTmFtZSIsIm5vdyIsIkRhdGUiLCJzdGFydFRpbWUiLCJ0b0lTT1N0cmluZyIsInNlc3Npb25JZCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImxvZyIsInRpbWVzdGFtcCIsInN0ZXAiLCJtZXNzYWdlIiwiZGF0YSIsImxvZ0VudHJ5IiwicHVzaCIsImNvbnNvbGUiLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0U2Vzc2lvbkxvZ3MiLCJnZXRTZXNzaW9uTWV0YSIsImdldEZvcm1hdHRlZExvZ3MiLCJtZXRhIiwibG9ncyIsImVuZFNlc3Npb24iLCJmb3JtYXR0ZWQiLCJsb2dDb3VudCIsImxlbmd0aCIsImNsZWFyTG9ncyIsImV4cG9ydEFzSnNvbiIsImdldExvZyIsImluZGV4IiwiZ2V0TG9nc0J5U3RlcCIsImZpbHRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/services/logger-serverless.js\n");

/***/ }),

/***/ "(api)/./src/state/sessionStore-serverless.js":
/*!**********************************************!*\
  !*** ./src/state/sessionStore-serverless.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deserializeState: () => (/* binding */ deserializeState),\n/* harmony export */   getState: () => (/* binding */ getState),\n/* harmony export */   resetState: () => (/* binding */ resetState),\n/* harmony export */   serializeState: () => (/* binding */ serializeState),\n/* harmony export */   setState: () => (/* binding */ setState),\n/* harmony export */   updateState: () => (/* binding */ updateState)\n/* harmony export */ });\n/**\n * Serverless-compatible session store for Vercel\n * Uses environment-based storage for distributed serverless functions\n */ // In-memory cache for current request cycle\nlet memoryStore = {\n    // OAuth state\n    oauthState: null,\n    oauthNonce: null,\n    codeVerifier: null,\n    cfg: null,\n    // Step 1 result\n    idToken: null,\n    accessToken: null,\n    refreshToken: null,\n    idTokenClaims: null,\n    // Step 2 result\n    idJagToken: null,\n    idJagResult: null,\n    // Step 3 result\n    idJagVerification: null,\n    // Step 4 result\n    authServerToken: null,\n    authServerResult: null,\n    // Step 5 result\n    authServerVerification: null\n};\n/**\n * Get current state\n */ function getState() {\n    return memoryStore;\n}\n/**\n * Set entire state\n */ function setState(newState) {\n    memoryStore = {\n        ...memoryStore,\n        ...newState\n    };\n    return memoryStore;\n}\n/**\n * Update a single property\n */ function updateState(key, value) {\n    memoryStore[key] = value;\n    return memoryStore;\n}\n/**\n * Reset state\n */ function resetState() {\n    memoryStore = {\n        oauthState: null,\n        oauthNonce: null,\n        codeVerifier: null,\n        cfg: null,\n        idToken: null,\n        accessToken: null,\n        refreshToken: null,\n        idTokenClaims: null,\n        idJagToken: null,\n        idJagResult: null,\n        idJagVerification: null,\n        authServerToken: null,\n        authServerResult: null,\n        authServerVerification: null\n    };\n    return memoryStore;\n}\n/**\n * Store state in environment variable (for cross-request persistence)\n * Note: This is a workaround for serverless - consider using a database\n */ function serializeState() {\n    return Buffer.from(JSON.stringify(memoryStore)).toString(\"base64\");\n}\n/**\n * Restore state from serialized format\n */ function deserializeState(serialized) {\n    try {\n        const decoded = Buffer.from(serialized, \"base64\").toString(\"utf-8\");\n        const state = JSON.parse(decoded);\n        memoryStore = {\n            ...memoryStore,\n            ...state\n        };\n        return memoryStore;\n    } catch  {\n        return memoryStore;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvc3RhdGUvc2Vzc2lvblN0b3JlLXNlcnZlcmxlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7OztDQUdDLEdBRUQsNENBQTRDO0FBQzVDLElBQUlBLGNBQWM7SUFDaEIsY0FBYztJQUNkQyxZQUFZO0lBQ1pDLFlBQVk7SUFDWkMsY0FBYztJQUNkQyxLQUFLO0lBRUwsZ0JBQWdCO0lBQ2hCQyxTQUFTO0lBQ1RDLGFBQWE7SUFDYkMsY0FBYztJQUNkQyxlQUFlO0lBRWYsZ0JBQWdCO0lBQ2hCQyxZQUFZO0lBQ1pDLGFBQWE7SUFFYixnQkFBZ0I7SUFDaEJDLG1CQUFtQjtJQUVuQixnQkFBZ0I7SUFDaEJDLGlCQUFpQjtJQUNqQkMsa0JBQWtCO0lBRWxCLGdCQUFnQjtJQUNoQkMsd0JBQXdCO0FBQzFCO0FBRUE7O0NBRUMsR0FDTSxTQUFTQztJQUNkLE9BQU9mO0FBQ1Q7QUFFQTs7Q0FFQyxHQUNNLFNBQVNnQixTQUFTQyxRQUFRO0lBQy9CakIsY0FBYztRQUFFLEdBQUdBLFdBQVc7UUFBRSxHQUFHaUIsUUFBUTtJQUFDO0lBQzVDLE9BQU9qQjtBQUNUO0FBRUE7O0NBRUMsR0FDTSxTQUFTa0IsWUFBWUMsR0FBRyxFQUFFQyxLQUFLO0lBQ3BDcEIsV0FBVyxDQUFDbUIsSUFBSSxHQUFHQztJQUNuQixPQUFPcEI7QUFDVDtBQUVBOztDQUVDLEdBQ00sU0FBU3FCO0lBQ2RyQixjQUFjO1FBQ1pDLFlBQVk7UUFDWkMsWUFBWTtRQUNaQyxjQUFjO1FBQ2RDLEtBQUs7UUFDTEMsU0FBUztRQUNUQyxhQUFhO1FBQ2JDLGNBQWM7UUFDZEMsZUFBZTtRQUNmQyxZQUFZO1FBQ1pDLGFBQWE7UUFDYkMsbUJBQW1CO1FBQ25CQyxpQkFBaUI7UUFDakJDLGtCQUFrQjtRQUNsQkMsd0JBQXdCO0lBQzFCO0lBQ0EsT0FBT2Q7QUFDVDtBQUVBOzs7Q0FHQyxHQUNNLFNBQVNzQjtJQUNkLE9BQU9DLE9BQU9DLElBQUksQ0FBQ0MsS0FBS0MsU0FBUyxDQUFDMUIsY0FBYzJCLFFBQVEsQ0FBQztBQUMzRDtBQUVBOztDQUVDLEdBQ00sU0FBU0MsaUJBQWlCQyxVQUFVO0lBQ3pDLElBQUk7UUFDRixNQUFNQyxVQUFVUCxPQUFPQyxJQUFJLENBQUNLLFlBQVksVUFBVUYsUUFBUSxDQUFDO1FBQzNELE1BQU1JLFFBQVFOLEtBQUtPLEtBQUssQ0FBQ0Y7UUFDekI5QixjQUFjO1lBQUUsR0FBR0EsV0FBVztZQUFFLEdBQUcrQixLQUFLO1FBQUM7UUFDekMsT0FBTy9CO0lBQ1QsRUFBRSxPQUFNO1FBQ04sT0FBT0E7SUFDVDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2t0YS1haS1zaW11bGF0b3IvLi9zcmMvc3RhdGUvc2Vzc2lvblN0b3JlLXNlcnZlcmxlc3MuanM/OTNiYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNlcnZlcmxlc3MtY29tcGF0aWJsZSBzZXNzaW9uIHN0b3JlIGZvciBWZXJjZWxcbiAqIFVzZXMgZW52aXJvbm1lbnQtYmFzZWQgc3RvcmFnZSBmb3IgZGlzdHJpYnV0ZWQgc2VydmVybGVzcyBmdW5jdGlvbnNcbiAqL1xuXG4vLyBJbi1tZW1vcnkgY2FjaGUgZm9yIGN1cnJlbnQgcmVxdWVzdCBjeWNsZVxubGV0IG1lbW9yeVN0b3JlID0ge1xuICAvLyBPQXV0aCBzdGF0ZVxuICBvYXV0aFN0YXRlOiBudWxsLFxuICBvYXV0aE5vbmNlOiBudWxsLFxuICBjb2RlVmVyaWZpZXI6IG51bGwsXG4gIGNmZzogbnVsbCxcblxuICAvLyBTdGVwIDEgcmVzdWx0XG4gIGlkVG9rZW46IG51bGwsXG4gIGFjY2Vzc1Rva2VuOiBudWxsLFxuICByZWZyZXNoVG9rZW46IG51bGwsXG4gIGlkVG9rZW5DbGFpbXM6IG51bGwsXG5cbiAgLy8gU3RlcCAyIHJlc3VsdFxuICBpZEphZ1Rva2VuOiBudWxsLFxuICBpZEphZ1Jlc3VsdDogbnVsbCxcblxuICAvLyBTdGVwIDMgcmVzdWx0XG4gIGlkSmFnVmVyaWZpY2F0aW9uOiBudWxsLFxuXG4gIC8vIFN0ZXAgNCByZXN1bHRcbiAgYXV0aFNlcnZlclRva2VuOiBudWxsLFxuICBhdXRoU2VydmVyUmVzdWx0OiBudWxsLFxuXG4gIC8vIFN0ZXAgNSByZXN1bHRcbiAgYXV0aFNlcnZlclZlcmlmaWNhdGlvbjogbnVsbCxcbn07XG5cbi8qKlxuICogR2V0IGN1cnJlbnQgc3RhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICByZXR1cm4gbWVtb3J5U3RvcmU7XG59XG5cbi8qKlxuICogU2V0IGVudGlyZSBzdGF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RhdGUobmV3U3RhdGUpIHtcbiAgbWVtb3J5U3RvcmUgPSB7IC4uLm1lbW9yeVN0b3JlLCAuLi5uZXdTdGF0ZSB9O1xuICByZXR1cm4gbWVtb3J5U3RvcmU7XG59XG5cbi8qKlxuICogVXBkYXRlIGEgc2luZ2xlIHByb3BlcnR5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVTdGF0ZShrZXksIHZhbHVlKSB7XG4gIG1lbW9yeVN0b3JlW2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG1lbW9yeVN0b3JlO1xufVxuXG4vKipcbiAqIFJlc2V0IHN0YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldFN0YXRlKCkge1xuICBtZW1vcnlTdG9yZSA9IHtcbiAgICBvYXV0aFN0YXRlOiBudWxsLFxuICAgIG9hdXRoTm9uY2U6IG51bGwsXG4gICAgY29kZVZlcmlmaWVyOiBudWxsLFxuICAgIGNmZzogbnVsbCxcbiAgICBpZFRva2VuOiBudWxsLFxuICAgIGFjY2Vzc1Rva2VuOiBudWxsLFxuICAgIHJlZnJlc2hUb2tlbjogbnVsbCxcbiAgICBpZFRva2VuQ2xhaW1zOiBudWxsLFxuICAgIGlkSmFnVG9rZW46IG51bGwsXG4gICAgaWRKYWdSZXN1bHQ6IG51bGwsXG4gICAgaWRKYWdWZXJpZmljYXRpb246IG51bGwsXG4gICAgYXV0aFNlcnZlclRva2VuOiBudWxsLFxuICAgIGF1dGhTZXJ2ZXJSZXN1bHQ6IG51bGwsXG4gICAgYXV0aFNlcnZlclZlcmlmaWNhdGlvbjogbnVsbCxcbiAgfTtcbiAgcmV0dXJuIG1lbW9yeVN0b3JlO1xufVxuXG4vKipcbiAqIFN0b3JlIHN0YXRlIGluIGVudmlyb25tZW50IHZhcmlhYmxlIChmb3IgY3Jvc3MtcmVxdWVzdCBwZXJzaXN0ZW5jZSlcbiAqIE5vdGU6IFRoaXMgaXMgYSB3b3JrYXJvdW5kIGZvciBzZXJ2ZXJsZXNzIC0gY29uc2lkZXIgdXNpbmcgYSBkYXRhYmFzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplU3RhdGUoKSB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeShtZW1vcnlTdG9yZSkpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbn1cblxuLyoqXG4gKiBSZXN0b3JlIHN0YXRlIGZyb20gc2VyaWFsaXplZCBmb3JtYXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc2VyaWFsaXplU3RhdGUoc2VyaWFsaXplZCkge1xuICB0cnkge1xuICAgIGNvbnN0IGRlY29kZWQgPSBCdWZmZXIuZnJvbShzZXJpYWxpemVkLCAnYmFzZTY0JykudG9TdHJpbmcoJ3V0Zi04Jyk7XG4gICAgY29uc3Qgc3RhdGUgPSBKU09OLnBhcnNlKGRlY29kZWQpO1xuICAgIG1lbW9yeVN0b3JlID0geyAuLi5tZW1vcnlTdG9yZSwgLi4uc3RhdGUgfTtcbiAgICByZXR1cm4gbWVtb3J5U3RvcmU7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBtZW1vcnlTdG9yZTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIm1lbW9yeVN0b3JlIiwib2F1dGhTdGF0ZSIsIm9hdXRoTm9uY2UiLCJjb2RlVmVyaWZpZXIiLCJjZmciLCJpZFRva2VuIiwiYWNjZXNzVG9rZW4iLCJyZWZyZXNoVG9rZW4iLCJpZFRva2VuQ2xhaW1zIiwiaWRKYWdUb2tlbiIsImlkSmFnUmVzdWx0IiwiaWRKYWdWZXJpZmljYXRpb24iLCJhdXRoU2VydmVyVG9rZW4iLCJhdXRoU2VydmVyUmVzdWx0IiwiYXV0aFNlcnZlclZlcmlmaWNhdGlvbiIsImdldFN0YXRlIiwic2V0U3RhdGUiLCJuZXdTdGF0ZSIsInVwZGF0ZVN0YXRlIiwia2V5IiwidmFsdWUiLCJyZXNldFN0YXRlIiwic2VyaWFsaXplU3RhdGUiLCJCdWZmZXIiLCJmcm9tIiwiSlNPTiIsInN0cmluZ2lmeSIsInRvU3RyaW5nIiwiZGVzZXJpYWxpemVTdGF0ZSIsInNlcmlhbGl6ZWQiLCJkZWNvZGVkIiwic3RhdGUiLCJwYXJzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/state/sessionStore-serverless.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstate&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fstate%2Findex.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();